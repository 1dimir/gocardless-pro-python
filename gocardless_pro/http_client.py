# WARNING: Do not edit by hand, this file was generated by Crank:
#
#   https://github.com/gocardless/crank
#

import urlparse
import requests

class HttpClient(object):

    def __init__(self, base_url, access_token):
        self.base_url = base_url
        self.access_token = access_token

    def get(self, path, params):
        return requests.get(
            self._url_for(path),
            params=params,
            headers=self._default_headers()
        )

    def post(self, path, data):
        return requests.post(
            self._url_for(path),
            data=json.dumps(data),
            headers=self._default_headers()
        )

    def put(self, path, data):
        return requests.put(
            self._url_for(path),
            data=json.dumps(data),
            headers=self._default_headers()
        )

    def _url_for(self, path):
        return urlparse.urljoin(self.base_url, path)

    def _default_headers(self):
        return {
            'Accept': 'application/json',
            'Authorization': 'Bearer {}'.format(self.access_token),
            'Content-Type': 'application/json',
            'User-Agent': 'gocardless-pro-python',  # TODO: add detail!
            
            'GoCardless-Version': '2015-04-29',
        }
